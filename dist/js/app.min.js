/*! portfolio-app 2017-04-12 */
!function(){"use strict";angular.module("portfolioApp",["ngAnimate","ngRoute","core","view","ngTouch","angulartics","angulartics.google.analytics","duScroll"])}(),function(){"use strict";angular.module("portfolioApp").config(["$locationProvider","$routeProvider",function($locationProvider,$routeProvider){$routeProvider.when("/",{title:"Jamie Lloyd, Portfolio",template:"<portfolio-page></portfolio-page>"}).when("/about",{title:"Jamie Lloyd, Portfolio : About",template:"<about-page></about-page>"}).when("/contact",{title:"Jamie Lloyd, Portfolio : Contact",template:"<contact-page></contact-page>"}).when("/portfolio/:clientId/:projectId",{title:"Jamie Lloyd, Portfolio",template:"<project-detail></project-detail>"}).when("/resume",{title:"Jamie Lloyd, Portfolio : Resume",template:"<resume-page></resume-page>"}).when("/experiments",{title:"Jamie Lloyd, Portfolio : Experiments",template:"<experiements></experiements>"}).when("/archives",{title:"Jamie Lloyd, Portfolio : Archives",template:"<archives></archives>"}).otherwise("/"),$locationProvider.hashPrefix("!")}])}(),function(){"use strict";angular.module("core",["core.portfolio","core.globalNavigation","core.project","core.resume","core.jlvideo"])}(),function(){"use strict";angular.module("core.portfolio",["ngResource"])}(),function(){"use strict";angular.module("core.portfolio").factory("Portfolio",["$location","$resource","$rootScope",function($location,$resource,$rootScope){var self=this;return self.data=$resource("content/portfolioData/:projectId.json",{},{query:{method:"GET",params:{projectId:"portfolio"}}}),self.data.SetDefaultRoute=function(_route_){self.mainRoute=_route_,self.data.CheckForSlash(),self.data.SetTopRoute()},self.data.SetLoadRoute=function(){self.currentRoute=$location.$$path},self.data.CheckForSlash=function(){"/"!=self.currentRoute&&""!==self.currentRoute&&void 0!==self.currentRoute||(self.currentRoute="/"+self.mainRoute)},self.data.GetCurrentRoute=function(){return self.currentRoute},self.data.SetCurrentRoute=function(_currentRoute_){self.currentRoute=_currentRoute_,self.data.CheckForSlash(),self.data.SetTopRoute()},self.data.SetTopRoute=function(){self.topRoute=self.currentRoute.split("/")[1]},self.data.GetTopRoute=function(){return self.topRoute},self.data.SetPreviousRoute=function(_previousRoute_){self.previousRoute=_previousRoute_,""!==self.previousRoute&&void 0!==self.previousRoute||(self.previousRoute=self.mainRoute)},self.data.GetPreviousRoute=function(){return self.previousRoute},self.data.SetNextRoute=function(_nextRoute_){self.nextRoute=_nextRoute_},self.data.SetLocation=function(){self.nextRoute=="/"+self.mainRoute&&(self.nextRoute="/"),$location.path(self.nextRoute)},$rootScope.$on("$routeChangeStart",function(scope,next,current){self.SetRoutes(scope,next,current),$("html,body").animate({scrollTop:0},500)}),self.SetRoutes=function(scope,next,current){self.data.SetPreviousRoute(current.$$route.originalPath.split("/")[1]),self.data.SetCurrentRoute(next.$$route.originalPath),document.title=next.$$route.title},self.data.SetLoadRoute(),self.data}])}(),function(){"use strict";angular.module("core.project",[])}(),function(){"use strict";angular.module("core.project").factory("Project",["$http",function($http){var data,httpRequest,self=this;return self.request=function(projectId){return httpRequest=$http.get("content/portfolioData/projects/"+projectId).then(function(response){return data=response})},self}])}(),function(){"use strict";angular.module("core.resume",[])}(),function(){"use strict";angular.module("core.resume").factory("Resume",["$http",function($http){var data;return $http.get("https://docs.google.com/document/d/1CRXE9zrw79gAWVs_UbUbYlU5mm1lpb34-mUjLfr2fBI/pub?embedded=true").then(function(response){return data=response})}])}(),function(){"use strict";angular.module("core.globalNavigation",["core.portfolio"])}(),function(){"use strict";angular.module("core.globalNavigation").component("globalNavigation",{templateUrl:function($element,$attrs){return $attrs.templateUrl},controller:["$attrs","$scope","Portfolio","$route",function($attrs,$scope,Portfolio,$route){var self=this;void 0!==$attrs.defaultRoute&&Portfolio.SetDefaultRoute($attrs.defaultRoute),self.dataPath=$attrs.datapath,self.data=Portfolio.query(function(){void 0!==self.data[self.dataPath][Portfolio.GetTopRoute()]&&(self.data[self.dataPath][Portfolio.GetTopRoute()].isSelected="active")}),self.RouteClass=function(){return Portfolio.GetTopRoute()},self.SetDocumentTitle=function(){document.title=$route.current.title},self.NavItemClick=function(event,title){},self.NavItemMouseEnter=function(title){self.title=title.toLowerCase(),self.title!=Portfolio.GetTopRoute()&&(self.data[self.dataPath][self.title].isSelected="active")},self.NavItemMouseLeave=function(title){self.title=title.toLowerCase(),self.title!=Portfolio.GetTopRoute()&&(self.data[self.dataPath][self.title].isSelected="inactive")},$scope.$on("$routeChangeSuccess",function(){self.SetNavItemSelected()}),self.SetNavItemSelected=function(){void 0!==self.data[self.dataPath][Portfolio.GetPreviousRoute()]&&(self.data[self.dataPath][Portfolio.GetPreviousRoute()].isSelected="inactive"),void 0!==self.data[self.dataPath][Portfolio.GetTopRoute()]&&(self.data[self.dataPath][Portfolio.GetTopRoute()].isSelected="active")}}]})}(),function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-92897917-1","auto"),function(){"use strict";angular.module("core.jlvideo",["core.project"])}(),function(){"use strict";angular.module("core.jlvideo").component("jlvideo",{templateUrl:function($element,$attrs){return $attrs.templateUrl},controller:["$attrs","$scope","$element",function($attrs,$scope,$element){var self=this;self.attrs=$attrs,self.VideoClick=function(){void 0===self.video&&self.SetVideo(),self.video.paused===!0&&(self.video.play(),self.playButtonVisible="fade-out")},self.SetVideo=function(){self.video=document.getElementById($attrs.videoId),self.videoControls=document.getElementById($attrs.videoId+"-controls"),self.video.addEventListener("seeking",function(){self.seeking=!0}),self.video.addEventListener("pause",function(){setTimeout(function(){self.seeking!==!0&&$scope.$apply(function(){self.playButtonVisible="fade-in",$("#"+$attrs.videoId).removeAttr("controls")})},1)}),self.video.addEventListener("seeked",function(){self.seeking=!1}),self.videoControls.addEventListener("animationend",function(){$scope.$apply(function(){"fade-out"===self.playButtonVisible&&(self.playButtonVisible="hide",$("#"+$attrs.videoId).attr("controls","true"))})})}}]})}(),function(){"use strict";angular.module("view",["view.homePage","view.aboutPage","view.contactPage","view.projectList","view.projectDetail","view.portfolioPage","view.resumePage"])}(),function(){"use strict";angular.module("view.aboutPage",["core.portfolio"])}(),function(){"use strict";angular.module("view.contactPage",["core.portfolio"])}(),function(){"use strict";angular.module("view.homePage",["core.portfolio"])}(),function(){"use strict";angular.module("view.portfolioPage",["core.portfolio"])}(),function(){"use strict";angular.module("view.projectDetail",["ngRoute","core.project"])}(),function(){"use strict";angular.module("view.projectList",["core.portfolio"])}(),function(){"use strict";angular.module("view.resumePage",["core.resume"])}(),function(){"use strict";angular.module("view.aboutPage").component("aboutPage",{templateUrl:"view/about-page/about-page.template.html",controller:["Portfolio",function(Portfolio){var self=this;self.data=Portfolio.query(function(event){})}]})}(),function(){"use strict";angular.module("view.contactPage").component("contactPage",{templateUrl:"view/contact-page/contact-page.template.html",controller:["Portfolio",function(Portfolio){var self=this;self.data=Portfolio.query(function(event){})}]})}(),function(){"use strict";angular.module("view.homePage").component("homePage",{templateUrl:"view/home-page/home-page.template.html",controller:["Portfolio",function(Portfolio){var self=this;self.data=Portfolio.query(function(event){})}]})}(),function(){"use strict";angular.module("view.portfolioPage").component("portfolioPage",{templateUrl:"view/portfolio-page/portfolio-page.template.html",controller:["Portfolio","$document",function(Portfolio,$document){var self=this;self.data=Portfolio.query(function(event){self.projectElement=angular.element(document.getElementById("#scroll-top"))}),self.ScrollClick=function(){event.preventDefault(),$document.scrollTo(self.projectElement,55,500)}}]})}(),function(){"use strict";angular.module("view.projectDetail").component("projectDetail",{templateUrl:"view/project-detail/project-detail.template.html",controller:["$routeParams","Project","$scope","$compile",function($routeParams,Project,$scope,$compile){var article,self=this;self.projectId=$routeParams.projectId,self.projectRequest=Project.request($routeParams.clientId+"/"+$routeParams.projectId+".html"),self.projectRequest.then(function(htmldoc){article=$("#"+$routeParams.projectId),article.html(htmldoc.data),$compile(article.contents())($scope)})}]})}(),function(){"use strict";angular.module("view.projectList").component("projectList",{templateUrl:"view/project-list/project-list.template.html",controller:["Portfolio",function(Portfolio){var self=this;self.projects=Portfolio.query(function(event){})}]})}(),function(){"use strict";angular.module("view.resumePage").component("resumePage",{templateUrl:"view/resume-page/resume-page.template.html",controller:["Resume",function(Resume){var self=this;self.resumeURL="https://docs.google.com/document/d/1CRXE9zrw79gAWVs_UbUbYlU5mm1lpb34-mUjLfr2fBI/pub";var googleDiv,contents,styleDiv,styles;Resume.then(function(htmldoc){googleDiv=$("#google-resume-doc"),contents=googleDiv.contents(),contents.html(htmldoc.data),contents.find('a[href^="http://"]').attr("target","_blank"),contents.find('a[href^="https://"]').attr("target","_blank"),styleDiv=googleDiv.find("style"),styles=styleDiv.html(),styleDiv.html(""),styles=styles.replace(/\.c/g,".doc-container .c"),styles=styles.replace(/\.doc-container \.com/g,".com"),styles=styles.replace(/h1{/,".doc-container h1{"),styles=styles.replace(/h2{/,".doc-container h2{"),styles=styles.replace(/h3{/,".doc-container h3{"),styles=styles.replace(/h4{/,".doc-container h4{"),styles=styles.replace(/h5{/,".doc-container h5{"),styles=styles.replace(/h6{/,".doc-container h6{"),styles=styles.replace(/p{/,".doc-container p{"),styles=styles.replace(/\.title{/,".doc-container .title{"),styles=styles.replace(/\.subtitle{/,".doc-container .subtitle{"),styles=styles.replace(/Calibri/g,"Lato"),styles=styles.replace(/Arial/g,"Lato"),styles=styles.replace(/#ff6600/g,"#758799"),styles=styles.replace(/li{/g,".doc-container li{"),styles=styles.replace(/background-color:#999999/g,"background-color: #758799"),googleDiv.addClass("loaded"),styleDiv.html(styles)})}]})}();